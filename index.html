<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>LBKI_CSV</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>LBKI_CSV</h1>
            <p id="headerSubtitle">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CSV-—Ñ–∞–π–ª–∞–º–∏</p>
        </header>

        <!-- –ë–ª–æ–∫ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ -->
        <section id="preLoadSection" class="pre-load-section">
            <div class="control-group">
                <input type="file" id="csvFile" accept=".csv" />
                <label for="separator">–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å:</label>
                <select id="separator">
                    <option value=",">–ó–∞–ø—è—Ç–∞—è (,)</option>
                    <option value=";">–¢–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (;)</option>
                    <option value="\t">–¢–∞–±—É–ª—è—Ü–∏—è (\t)</option>
                    <option value="|">–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —á–µ—Ä—Ç–∞ (|)</option>
                </select>
                <button id="loadBtn">üìÅ –û—Ç–∫—Ä—ã—Ç—å CSV</button>
            </div>
        </section>

        <!-- –ë–ª–æ–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ -->
        <section id="postLoadSection" class="post-load-section" style="display: none;">
            <section class="controls">
                <div class="control-group">
                    <button id="resetBtn">üîô –ö –∏—Å—Ö–æ–¥–Ω–æ–º—É</button>
                    <button id="saveBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="dedupeBtn">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏</button>
                    <button id="splitBtnModal">‚úÇÔ∏è –†–∞–∑–¥–µ–ª–∏—Ç—å —Ñ–∞–π–ª</button>
                    <button id="showColsBtnModal">üìã –°—Ç–æ–ª–±—Ü—ã</button>
                    <button id="pivotBtnModal">üìä –°–≤–æ–¥–∫–∞</button>
                </div>
            </section>

            <section class="filters-section">
                <h3>üîç –§–∏–ª—å—Ç—Ä—ã</h3>
                <div class="active-filters">
                    <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                </div>
                <div class="add-filter-controls">
                    <select id="filterColumn">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </select>
                    <select id="filterType">
                        <option value="string">–¢–µ–∫—Å—Ç</option>
                        <option value="number">–ß–∏—Å–ª–æ</option>
                        <option value="date">–î–∞—Ç–∞</option>
                    </select>
                    <select id="filterOp">
                        <option value="contains">—Å–æ–¥–µ—Ä–∂–∏—Ç</option>
                        <option value="equals">—Ä–∞–≤–Ω–æ</option>
                        <option value="gt">&gt;</option>
                        <option value="lt">&lt;</option>
                        <option value="gte">&ge;</option>
                        <option value="lte">&le;</option>
                    </select>
                    <input type="text" id="filterValue" placeholder="–∑–Ω–∞—á–µ–Ω–∏–µ...">
                    <button id="addFilterBtn">‚ûï</button>
                </div>
            </section>

            <section class="table-section">
                <!-- –ù–û–í–û–ï: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ -->
                <div id="dataInfo" class="data-info">
                    –°—Ç–æ–ª–±—Ü—ã: 0 | –°—Ç—Ä–æ–∫–∏: 0
                </div>
                <!-- –ö–û–ù–ï–¶ –ù–û–í–û–ì–û -->
                <div id="tableContainer" class="table-container"></div>
            </section>
        </section>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–°—Ç–æ–ª–±—Ü—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è" -->
        <div id="showColsModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>üìã –°—Ç–æ–ª–±—Ü—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
                <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–æ–ª–±—Ü—ã:</label>
                <div id="columnListChips" class="chips-container"></div>
                <button id="applyColsBtn">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞" -->
        <div id="pivotModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞</h3>
                <label>–°—Ç–æ–ª–±–µ—Ü –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:</label>
                <div id="pivotColChips" class="chips-container"></div>
                <button id="applyPivotBtn">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>

        <!-- –ù–û–í–û–ï: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–†–∞–∑–¥–µ–ª–∏—Ç—å —Ñ–∞–π–ª" -->
        <div id="splitModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>‚úÇÔ∏è –†–∞–∑–¥–µ–ª–∏—Ç—å —Ñ–∞–π–ª</h3>
                <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —á–∞—Å—Ç–∏:</label>
                <input type="number" id="splitRowCount" placeholder="1000" min="1">
                <label>–®–∞–±–ª–æ–Ω –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–±–µ–∑ .csv):</label>
                <input type="text" id="splitFileNameTemplate" placeholder="part_{{index}}">
                <button id="applySplitBtn">‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç—å –∏ —Å–∫–∞—á–∞—Ç—å</button>
            </div>
        </div>
        <!-- –ö–û–ù–ï–¶ –ù–û–í–û–ì–û -->

    </div>

    <!-- –ù–û–í–û–ï: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loadingIndicator" class="loading-indicator" style="display: none;">
        <div class="loading-line"></div>
        <div class="loading-line"></div>
        <div class="loading-line"></div>
    </div>
    <!-- –ö–û–ù–ï–¶ –ù–û–í–û–ì–û -->

    <!-- –ù–û–í–û–ï: snackbar -->
    <div id="snackbar" class="snackbar">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
    <!-- –ö–û–ù–ï–¶ –ù–û–í–û–ì–û -->

    <script src="script.js"></script>
</body>
</html>